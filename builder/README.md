# Строитель (Builder)

Строитель — это порождающий паттерн проектирования, который позволяет создавать сложные объекты пошагово. Строитель даёт возможность использовать один и тот же код строительства для получения разных представлений объектов.

## Применимость

Паттерн Строитель предлагает вынести конструирование объекта за пределы его конструктора, поручив это дело отдельным объектам, называемым строителями.

Паттерн предлагает разбить процесс конструирования объекта на отдельные шаги. Чтобы создать объект, нужно поочерёдно вызывать методы строителя. Причём не нужно запускать все шаги, а только те, что нужны для производства объекта определённой конфигурации.

Зачастую один и тот же шаг строительства может отличаться для разных вариаций производимых объектов.

В этом случае можно создать несколько объектов-строителей, выполняющих одни и те же шаги по-разному. Используя этих строителей в одном и том же строительном процессе, можно получать на выходе различные объекты.

### Директор

Можно выделить вызовы методов строителя в отдельный объект, называемый директором. В этом случае директор будет задавать порядок шагов строительства, а строитель — выполнять их.

Отдельный объект директора не является строго обязательным. Можно вызывать методы строителя и напрямую из клиентского кода. Тем не менее, директор полезен, если есть несколько способов конструирования продуктов, отличающихся порядком и наличием шагов конструирования - в этом случае можно объединить всю эту логику в одном объекте.

Такая структура объектов полностью скроет от клиентского кода процесс конструирования других объектов. Клиенту останется только привязать желаемого строителя к директору, а затем получить у строителя готовый результат.

## Плюсы

- Позволяет создавать продукты пошагово.
- Позволяет использовать один и тот же код для создания различных продуктов.
- Изолирует сложный код сборки продукта от его основной бизнес-логики.

## Минусы

- Усложняет код программы из-за введения дополнительных типов.
- Клиент будет привязан к конкретным типам строителей, так как в интерфейсе директора может не быть метода получения результата.

## Примеры использования

- Когда необходимо избавиться от «телескопического конструктора».

    Допустим, есть один конструктор с десятью опциональными параметрами. Его неудобно вызывать, поэтому можно создать ещё десять конструкторов с меньшим количеством параметров. Всё, что они делают — это переадресуют вызов к базовому конструктору, подавая какие-то значения по умолчанию в параметры, которые пропущены в них самих.
    Паттерн Строитель позволяет собирать объекты пошагово, вызывая только те шаги, которые нужны для создаваемого объекта. А значит, больше не нужно пытаться вписать в конструктор все возможные опции продукта.

- Когда код должен создавать разные представления какого-то объекта.

    Строитель можно применить, если создание нескольких представлений объекта состоит из одинаковых этапов, которые отличаются в деталях.
    Интерфейс строителей определит все возможные этапы конструирования. Каждому представлению будет соответствовать собственный объект-строитель. А порядок этапов строительства будет задавать объект-директор.

- Когда нужно собирать сложные составные объекты.

    Строитель конструирует объекты пошагово, а не за один проход. Более того, шаги строительства можно выполнять рекурсивно.
    Также Строитель не позволяет посторонним объектам иметь доступ к конструируемому объекту, пока тот не будет полностью готов. Это предохраняет клиентский код от получения незаконченных «битых» объектов.